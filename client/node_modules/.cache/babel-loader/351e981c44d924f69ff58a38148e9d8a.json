{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal Project MERN\\\\mern-blog-app\\\\client\\\\src\\\\pages\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useRef, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const {\n    dispatch,\n    isFetching\n  } = useContext(Context);\n  const [error, setError] = useState(false);\n  const [user, setUser] = useState([]);\n  const [validation, setValidation] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  const handleChange = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const checkValidation = req => {\n    let errors = JSON.parse(JSON.stringify(validation)); //first Name validation\n\n    const username = user.username;\n\n    if (!user.username.trim()) {\n      errors.username = \"Username is required\";\n    } else if (username.length < 4) {\n      errors.username = \"Username must be longer than 4  characters\";\n    } else if (username === user.username) {\n      errors.username = \"Username does not match\";\n    } else {\n      errors.username = \"\";\n    } //password validation\n\n\n    const password = user.password;\n\n    if (!password) {\n      errors.password = \"Password is required\";\n    } else {\n      errors.password = \"\";\n    }\n\n    setValidation(errors);\n  };\n\n  useEffect(() => {\n    checkValidation();\n  }, [user]);\n\n  const handleSubmit = async (e, req) => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n\n    try {\n      const res = await axios.post(\"/auth/login\", {\n        username: userRef.current.value,\n        password: passwordRef.current.value,\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: user.username,\n          password: user.password\n        })\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n      alert(\"User Logged in Successfully\");\n    } catch (err) {\n      dispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n      setError(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"loginTitle\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginForm-BG\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"loginForm\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"loginInput\",\n          placeholder: \"Enter your username...\",\n          ref: userRef,\n          onChange: e => handleChange(e),\n          value: user.username,\n          name: \"username\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), validation.username && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            paddingLeft: \"10px\",\n            fontSize: \"18px\",\n            marginTop: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: validation.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 117\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"loginInput\",\n          placeholder: \"Enter your password...\",\n          ref: passwordRef,\n          onChange: e => handleChange(e),\n          value: user.password,\n          name: \"password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }, this), validation.password && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            paddingLeft: \"10px\",\n            fontSize: \"18px\",\n            marginTop: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: validation.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 121\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"loginButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"rgb(255, 0, 0)\",\n            fontSize: \"20px\",\n            marginTop: \"10px\"\n          },\n          children: \"Invalid Credentials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"loginRegisterButton\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"link\",\n        to: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"XGxgwX0lis13CDQJFvcHd/QUGZA=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Personal Project MERN/mern-blog-app/client/src/pages/login/Login.jsx"],"names":["axios","useContext","useRef","useEffect","useState","Link","Context","Login","userRef","passwordRef","dispatch","isFetching","error","setError","user","setUser","validation","setValidation","username","password","handleChange","e","target","name","value","checkValidation","req","errors","JSON","parse","stringify","trim","length","handleSubmit","preventDefault","type","res","post","current","headers","body","payload","data","alert","err","color","paddingLeft","fontSize","marginTop"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useContext, useRef, useEffect,useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./login.css\";\n\nexport default function Login() {\n  const userRef = useRef();\n  const passwordRef = useRef();\n  const { dispatch, isFetching } = useContext(Context);\n  const [error, setError] = useState(false);\n\n\n  const [user, setUser] = useState([]);\n\n  const [validation, setValidation] = useState({\n    username: \"\",\n    \n  \n    password: \"\",\n    \n  });\n\n  const handleChange =(e) => {\n    setUser({...user, [e.target.name]: e.target.value})\n  }\n  \n\n  const checkValidation = (req) => {\n    let errors = JSON.parse(JSON.stringify(validation));\n    \n    //first Name validation\n    const username = user.username;\n    if (!user.username.trim()) {\n      errors.username = \"Username is required\";\n    } else if (username.length < 4) {\n      errors.username = \"Username must be longer than 4  characters\";\n    }\n    else if (username === user.username) {\n      errors.username = \"Username does not match\";\n    }else {\n      errors.username = \"\";\n    }\n\n    \n\n   //password validation\n \n   const password = user.password;\n   if (!password) {\n     errors.password = \"Password is required\";\n   } else {\n     errors.password = \"\";\n   }\n\n  \n\n   setValidation(errors);\n };\n\n useEffect(() => {\n  checkValidation();\n}, [user]);\n\n\n  const handleSubmit = async (e,req) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    try {\n      const res = await axios.post(\"/auth/login\", {\n        username: userRef.current.value,\n        password: passwordRef.current.value,\n        \n        headers: {\n          'Content-Type': 'application/json'\n           },\n           body : JSON.stringify({username:user.username,password:user.password })\n        \n        \n      })\n     \n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n      alert(\"User Logged in Successfully\");\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n      setError(true);\n   \n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <span className=\"loginTitle\">Login</span>\n      <div className=\"loginForm-BG\">\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          className=\"loginInput\"\n          placeholder=\"Enter your username...\"\n          ref={userRef}\n          onChange={(e) => handleChange(e)}\n          value={user.username} \n          name=\"username\"\n          required\n        />\n          {validation.username &&  <span style={{color:\"red\",paddingLeft:\"10px\",fontSize:\"18px\", marginTop:\"10px\"}}><p>{validation.username}</p></span>}\n        <label>Password</label>\n        <input\n          type=\"password\"\n          className=\"loginInput\"\n          placeholder=\"Enter your password...\"\n          ref={passwordRef}\n          onChange={(e) => handleChange(e)}\n          value={user.password}\n          name=\"password\"\n              required\n\n        />\n              {validation.password &&  <span style={{color:\"red\",paddingLeft:\"10px\",fontSize:\"18px\", marginTop:\"10px\"}}><p>{validation.password}</p></span> }\n\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n          Login\n        </button>\n        {error && <span style={{color:\"rgb(255, 0, 0)\",fontSize:\"20px\", marginTop:\"10px\"}}>Invalid Credentials</span>}\n      </form>\n      </div>\n      <button className=\"loginRegisterButton\">\n        <Link className=\"link\" to=\"/register\">\n          Register\n        </Link>\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}