{"ast":null,"code":"var _jsxFileName = \"D:\\\\Personal Project MERN\\\\mern-blog-app\\\\client\\\\src\\\\pages\\\\login\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useRef, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  // const userRef = useRef();\n  // const passwordRef = useRef();\n  const {\n    dispatch,\n    isFetching\n  } = useContext(Context);\n  const [error, setError] = useState(false);\n  const [inputValues, setInputValue] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [validation, setValidation] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setInputValue({ ...inputValues,\n      [name]: value\n    });\n  }\n\n  const checkValidation = () => {\n    let errors = JSON.parse(JSON.stringify(validation)); //first Name validation\n\n    const username = inputValues.username;\n\n    if (!inputValues.username.trim()) {\n      errors.username = \"Username is required\";\n    } else if (username.length < 6) {\n      errors.username = \"Username must be longer than 4  characters\";\n    } else {\n      errors.username = \"username is valid\";\n    } //password validation\n\n\n    const cond1 = \"/^(?=.*[a-z]).{6,20}$/\";\n    const cond2 = \"/^(?=.*[A-Z]).{6,20}$/\";\n    const cond3 = \"/^(?=.*[0-9]).{6,20}$/\";\n    const password = inputValues.password;\n\n    if (!password) {\n      errors.password = \"Password is required\";\n    } else if (password.length < 6) {\n      errors.password = \"Password must be longer than 6 characters\";\n    } else if (password.length >= 20) {\n      errors.password = \"Password must shorter than 20 characters\";\n    } else if (!password.match(cond1)) {\n      errors.password = \"Password must contain at least one lowercase\";\n    } else if (!password.match(cond2)) {\n      errors.password = \"Password must contain at least one capital letter\";\n    } else if (!password.match(cond3)) {\n      errors.password = \"Password must contain at least a number\";\n    } else {\n      errors.password = \"Password Is Valid\";\n    }\n\n    setValidation(errors);\n  };\n\n  useEffect(() => {\n    checkValidation();\n  }, [inputValues]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n    const {\n      username,\n      password\n    } = inputValues;\n\n    try {\n      const res = await axios.post(\"/auth/login\", {\n        // username: userRef.current.value,\n        // password: passwordRef.current.value,\n        username,\n        password\n      });\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data\n      });\n      alert(\"User Logged in Successfully\");\n    } catch (err) {\n      dispatch({\n        type: \"LOGIN_FAILURE\"\n      });\n      setError(true);\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"loginTitle\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginForm-BG\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"loginForm\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"loginInput\",\n          placeholder: \"Enter your username...\" // ref={userRef}\n          ,\n          onChange: e => handleChange(e),\n          value: inputValues.username,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), validation.username && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            paddingLeft: \"10px\",\n            fontSize: \"18px\",\n            marginTop: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: validation.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 117\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"loginInput\",\n          placeholder: \"Enter your password...\" // ref={passwordRef}\n          ,\n          onChange: e => handleChange(e),\n          value: inputValues.password,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 9\n        }, this), validation.password && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"red\",\n            paddingLeft: \"10px\",\n            fontSize: \"18px\",\n            marginTop: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: validation.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 121\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"loginButton\",\n          type: \"submit\",\n          disabled: isFetching,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"rgb(255, 0, 0)\",\n            fontSize: \"20px\",\n            marginTop: \"10px\"\n          },\n          children: \"Invalid Credentials!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"loginRegisterButton\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        className: \"link\",\n        to: \"/register\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"HMjD7rdCIkQ37XKSK+TRWk/Nl38=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Personal Project MERN/mern-blog-app/client/src/pages/login/Login.jsx"],"names":["axios","useContext","useRef","useEffect","useState","Link","Context","Login","dispatch","isFetching","error","setError","inputValues","setInputValue","username","email","password","validation","setValidation","handleChange","event","name","value","target","checkValidation","errors","JSON","parse","stringify","trim","length","cond1","cond2","cond3","match","handleSubmit","e","preventDefault","type","res","post","payload","data","alert","err","console","log","color","paddingLeft","fontSize","marginTop"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useContext, useRef, useEffect,useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Context } from \"../../context/Context\";\nimport \"./login.css\";\n\nexport default function Login() {\n  // const userRef = useRef();\n  // const passwordRef = useRef();\n  const { dispatch, isFetching } = useContext(Context);\n  const [error, setError] = useState(false);\n\n\n  const [inputValues, setInputValue] = useState({\n    username: \"\",\n   \n    email: \"\",\n    password: \"\",\n  });\n\n  const [validation, setValidation] = useState({\n    username: \"\",\n    \n    email: \"\",\n    password: \"\",\n    \n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n    setInputValue({ ...inputValues, [name]: value });\n  }\n  \n\n  const checkValidation = () => {\n    let errors = JSON.parse(JSON.stringify(validation));\n    \n    //first Name validation\n    const username = inputValues.username;\n    if (!inputValues.username.trim()) {\n      errors.username = \"Username is required\";\n    } else if (username.length < 6) {\n      errors.username = \"Username must be longer than 4  characters\";\n    }else {\n      errors.username = \"username is valid\";\n    }\n\n    \n\n   //password validation\n   const cond1 = \"/^(?=.*[a-z]).{6,20}$/\";\n   const cond2 = \"/^(?=.*[A-Z]).{6,20}$/\";\n   const cond3 = \"/^(?=.*[0-9]).{6,20}$/\";\n   const password = inputValues.password;\n   if (!password) {\n     errors.password = \"Password is required\";\n   } else if (password.length < 6) {\n     errors.password = \"Password must be longer than 6 characters\";\n   } else if (password.length >= 20) {\n     errors.password = \"Password must shorter than 20 characters\";\n   } else if (!password.match(cond1)) {\n     errors.password = \"Password must contain at least one lowercase\";\n   } else if (!password.match(cond2)) {\n     errors.password = \"Password must contain at least one capital letter\";\n   } else if (!password.match(cond3)) {\n     errors.password = \"Password must contain at least a number\";\n   } else {\n     errors.password = \"Password Is Valid\";\n   }\n\n  \n\n   setValidation(errors);\n };\n\n useEffect(() => {\n  checkValidation();\n}, [inputValues]);\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    dispatch({ type: \"LOGIN_START\" });\n    const { username,   password} = inputValues;\n    try {\n      const res = await axios.post(\"/auth/login\", {\n        // username: userRef.current.value,\n        // password: passwordRef.current.value,\n        username,\n        password,\n        \n      })\n      \n      \n          \n      dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n      alert(\"User Logged in Successfully\");\n    } catch (err) {\n      dispatch({ type: \"LOGIN_FAILURE\" });\n      setError(true);\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <span className=\"loginTitle\">Login</span>\n      <div className=\"loginForm-BG\">\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          type=\"text\"\n          className=\"loginInput\"\n          placeholder=\"Enter your username...\"\n          // ref={userRef}\n          onChange={(e) => handleChange(e)}\n          value={inputValues.username}\n          required\n        />\n          {validation.username &&  <span style={{color:\"red\",paddingLeft:\"10px\",fontSize:\"18px\", marginTop:\"10px\"}}><p>{validation.username}</p></span>}\n        <label>Password</label>\n        <input\n          type=\"password\"\n          className=\"loginInput\"\n          placeholder=\"Enter your password...\"\n          // ref={passwordRef}\n          onChange={(e) => handleChange(e)}\n          value={inputValues.password}\n              required\n\n        />\n              {validation.password &&  <span style={{color:\"red\",paddingLeft:\"10px\",fontSize:\"18px\", marginTop:\"10px\"}}><p>{validation.password}</p></span> }\n\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n          Login\n        </button>\n        {error && <span style={{color:\"rgb(255, 0, 0)\",fontSize:\"20px\", marginTop:\"10px\"}}>Invalid Credentials!</span>}\n      </form>\n      </div>\n      <button className=\"loginRegisterButton\">\n        <Link className=\"link\" to=\"/register\">\n          Register\n        </Link>\n      </button>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}